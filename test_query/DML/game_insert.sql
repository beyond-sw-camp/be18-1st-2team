-- 홈팀 외래키 추가
ALTER TABLE `game`
ADD CONSTRAINT `FK_home_team`
FOREIGN KEY (`home`) REFERENCES `team`(`team_id`);

-- 원정팀 외래키 추가
ALTER TABLE `game`
ADD CONSTRAINT `FK_away_team`
FOREIGN KEY (`away`) REFERENCES `team`(`team_id`);

-- 하나만 연결돼있던 키 삭제
ALTER TABLE game DROP FOREIGN KEY FK_team_TO_game_1;

-- 100 dummy games for LG Twins with season-based ID ranges
INSERT INTO `game` (`game_id`,`home`,`away`,`start_time`,`end_time`,`win`,`lose`,`home_score`,`lose_score`,`stadium`) VALUES
  (1001, 5, 1, '2020-06-22 18:00:00', '2020-06-22 21:00:00', 5, 1, 10, 0, '광주기아챔피언스필드'),
  (1002, 8, 1, '2020-07-09 18:00:00', '2020-07-09 21:00:00', 8, 1, 7, 5, '한화생명이글스파크'),
  (1003, 4, 1, '2020-09-27 18:00:00', '2020-09-27 21:00:00', 1, 4, 1, 8, '고척스카이돔'),
  (1004, 5, 1, '2020-05-09 18:00:00', '2020-05-09 21:00:00', 1, 5, 1, 4, '광주기아챔피언스필드'),
  (1005, 1, 10, '2020-09-09 18:00:00', '2020-09-09 21:00:00', 10, 1, 2, 3, '잠실야구장'),
  (1006, 10, 1, '2020-06-07 18:00:00', '2020-06-07 21:00:00', 1, 10, 0, 8, '수원KT위즈파크'),
  (1007, 5, 1, '2020-06-08 18:00:00', '2020-06-08 21:00:00', 5, 1, 10, 6, '광주기아챔피언스필드'),
  (1008, 1, 8, '2020-09-16 18:00:00', '2020-09-16 21:00:00', 8, 1, 6, 10, '잠실야구장'),
  (1009, 4, 1, '2020-09-02 18:00:00', '2020-09-02 21:00:00', 0, 0, 8, 8, '고척스카이돔'),
  (1010, 3, 1, '2020-09-11 18:00:00', '2020-09-11 21:00:00', 1, 3, 1, 6, '인천SSG랜더스필드'),
  (1011, 4, 1, '2020-06-25 18:00:00', '2020-06-25 21:00:00', 1, 4, 0, 3, '고척스카이돔'),
  (1012, 1, 6, '2020-05-20 18:00:00', '2020-05-20 21:00:00', 0, 0, 8, 8, '잠실야구장'),
  (1013, 5, 1, '2020-09-04 18:00:00', '2020-09-04 21:00:00', 5, 1, 7, 4, '광주기아챔피언스필드'),
  (1014, 1, 3, '2020-05-03 18:00:00', '2020-05-03 21:00:00', 3, 1, 0, 1, '잠실야구장'),
  (1015, 1, 7, '2020-06-07 18:00:00', '2020-06-07 21:00:00', 7, 1, 7, 8, '잠실야구장'),
  (1016, 10, 1, '2020-07-19 18:00:00', '2020-07-19 21:00:00', 10, 1, 4, 0, '수원KT위즈파크'),
  (1017, 1, 3, '2020-06-22 18:00:00', '2020-06-22 21:00:00', 1, 3, 7, 1, '잠실야구장'),
  (1018, 3, 1, '2020-06-22 18:00:00', '2020-06-22 21:00:00', 3, 1, 8, 0, '인천SSG랜더스필드'),
  (1019, 2, 1, '2020-05-02 18:00:00', '2020-05-02 21:00:00', 0, 0, 6, 6, '잠실야구장'),
  (1020, 8, 1, '2020-08-06 18:00:00', '2020-08-06 21:00:00', 8, 1, 9, 1, '한화생명이글스파크'),
  (2001, 6, 1, '2021-05-01 18:00:00', '2021-05-01 21:00:00', 6, 1, 10, 2, '대구삼성라이온즈파크'),
  (2002, 1, 6, '2021-06-18 18:00:00', '2021-06-18 21:00:00', 1, 6, 10, 5, '잠실야구장'),
  (2003, 1, 8, '2021-07-19 18:00:00', '2021-07-19 21:00:00', 1, 8, 5, 4, '잠실야구장'),
  (2004, 4, 1, '2021-06-01 18:00:00', '2021-06-01 21:00:00', 4, 1, 10, 5, '고척스카이돔'),
  (2005, 1, 6, '2021-09-22 18:00:00', '2021-09-22 21:00:00', 6, 1, 4, 9, '잠실야구장'),
  (2006, 9, 1, '2021-08-01 18:00:00', '2021-08-01 21:00:00', 9, 1, 8, 2, '창원NC파크'),
  (2007, 2, 1, '2021-06-08 18:00:00', '2021-06-08 21:00:00', 1, 2, 0, 4, '잠실야구장'),
  (2008, 1, 9, '2021-09-22 18:00:00', '2021-09-22 21:00:00', 9, 1, 5, 7, '잠실야구장'),
  (2009, 8, 1, '2021-07-23 18:00:00', '2021-07-23 21:00:00', 1, 8, 1, 3, '한화생명이글스파크'),
  (2010, 5, 1, '2021-05-06 18:00:00', '2021-05-06 21:00:00', 1, 5, 3, 8, '광주기아챔피언스필드'),
  (2011, 1, 8, '2021-08-13 18:00:00', '2021-08-13 21:00:00', 1, 8, 1, 0, '잠실야구장'),
  (2012, 6, 1, '2021-06-11 18:00:00', '2021-06-11 21:00:00', 1, 6, 0, 1, '대구삼성라이온즈파크'),
  (2013, 1, 7, '2021-09-05 18:00:00', '2021-09-05 21:00:00', 1, 7, 10, 3, '잠실야구장'),
  (2014, 10, 1, '2021-06-22 18:00:00', '2021-06-22 21:00:00', 1, 10, 9, 10, '수원KT위즈파크'),
  (2015, 7, 1, '2021-08-16 18:00:00', '2021-08-16 21:00:00', 1, 7, 1, 3, '사직야구장'),
  (2016, 1, 2, '2021-09-16 18:00:00', '2021-09-16 21:00:00', 1, 2, 3, 0, '잠실야구장'),
  (2017, 1, 4, '2021-06-26 18:00:00', '2021-06-26 21:00:00', 4, 1, 2, 10, '잠실야구장'),
  (2018, 5, 1, '2021-09-12 18:00:00', '2021-09-12 21:00:00', 1, 5, 0, 6, '광주기아챔피언스필드'),
  (2019, 1, 10, '2021-09-20 18:00:00', '2021-09-20 21:00:00', 0, 0, 4, 4, '잠실야구장'),
  (2020, 1, 2, '2021-06-28 18:00:00', '2021-06-28 21:00:00', 1, 2, 4, 1, '잠실야구장'),
  (3001, 1, 5, '2022-06-01 18:00:00', '2022-06-01 21:00:00', 5, 1, 8, 10, '잠실야구장'),
  (3002, 1, 8, '2022-05-22 18:00:00', '2022-05-22 21:00:00', 1, 8, 9, 0, '잠실야구장'),
  (3003, 2, 1, '2022-06-09 18:00:00', '2022-06-09 21:00:00', 2, 1, 9, 0, '잠실야구장'),
  (3004, 9, 1, '2022-09-17 18:00:00', '2022-09-17 21:00:00', 1, 9, 3, 4, '창원NC파크'),
  (3005, 10, 1, '2022-07-02 18:00:00', '2022-07-02 21:00:00', 10, 1, 4, 2, '수원KT위즈파크'),
  (3006, 8, 1, '2022-09-23 18:00:00', '2022-09-23 21:00:00', 8, 1, 8, 3, '한화생명이글스파크'),
  (3007, 10, 1, '2022-05-26 18:00:00', '2022-05-26 21:00:00', 0, 0, 8, 8, '수원KT위즈파크'),
  (3008, 1, 10, '2022-06-13 18:00:00', '2022-06-13 21:00:00', 1, 10, 10, 0, '잠실야구장'),
  (3009, 1, 7, '2022-08-18 18:00:00', '2022-08-18 21:00:00', 1, 7, 10, 7, '잠실야구장'),
  (3010, 8, 1, '2022-09-11 18:00:00', '2022-09-11 21:00:00', 8, 1, 4, 3, '한화생명이글스파크'),
  (3011, 9, 1, '2022-06-16 18:00:00', '2022-06-16 21:00:00', 9, 1, 7, 5, '창원NC파크'),
  (3012, 1, 10, '2022-06-19 18:00:00', '2022-06-19 21:00:00', 10, 1, 7, 8, '잠실야구장'),
  (3013, 3, 1, '2022-05-13 18:00:00', '2022-05-13 21:00:00', 0, 0, 5, 5, '인천SSG랜더스필드'),
  (3014, 3, 1, '2022-07-25 18:00:00', '2022-07-25 21:00:00', 3, 1, 5, 3, '인천SSG랜더스필드'),
  (3015, 1, 4, '2022-09-27 18:00:00', '2022-09-27 21:00:00', 4, 1, 0, 4, '잠실야구장'),
  (3016, 2, 1, '2022-08-28 18:00:00', '2022-08-28 21:00:00', 2, 1, 7, 4, '잠실야구장'),
  (3017, 6, 1, '2022-06-19 18:00:00', '2022-06-19 21:00:00', 1, 6, 4, 7, '대구삼성라이온즈파크'),
  (3018, 3, 1, '2022-05-18 18:00:00', '2022-05-18 21:00:00', 0, 0, 1, 1, '인천SSG랜더스필드'),
  (3019, 1, 6, '2022-08-08 18:00:00', '2022-08-08 21:00:00', 0, 0, 10, 10, '잠실야구장'),
  (3020, 2, 1, '2022-08-07 18:00:00', '2022-08-07 21:00:00', 1, 2, 0, 6, '잠실야구장'),
  (4001, 1, 3, '2023-08-10 18:00:00', '2023-08-10 21:00:00', 1, 3, 10, 8, '잠실야구장'),
  (4002, 1, 8, '2023-06-07 18:00:00', '2023-06-07 21:00:00', 8, 1, 3, 9, '잠실야구장'),
  (4003, 1, 7, '2023-06-01 18:00:00', '2023-06-01 21:00:00', 7, 1, 2, 9, '잠실야구장'),
  (4004, 1, 8, '2023-06-08 18:00:00', '2023-06-08 21:00:00', 1, 8, 9, 2, '잠실야구장'),
  (4005, 1, 6, '2023-07-06 18:00:00', '2023-07-06 21:00:00', 1, 6, 4, 0, '잠실야구장'),
  (4006, 2, 1, '2023-06-18 18:00:00', '2023-06-18 21:00:00', 1, 2, 2, 5, '잠실야구장'),
  (4007, 8, 1, '2023-06-21 18:00:00', '2023-06-21 21:00:00', 8, 1, 9, 5, '한화생명이글스파크'),
  (4008, 1, 8, '2023-05-07 18:00:00', '2023-05-07 21:00:00', 1, 8, 8, 6, '잠실야구장'),
  (4009, 1, 4, '2023-06-17 18:00:00', '2023-06-17 21:00:00', 1, 4, 6, 3, '잠실야구장'),
  (4010, 5, 1, '2023-05-23 18:00:00', '2023-05-23 21:00:00', 5, 1, 10, 0, '광주기아챔피언스필드'),
  (4011, 1, 6, '2023-05-05 18:00:00', '2023-05-05 21:00:00', 0, 0, 2, 2, '잠실야구장'),
  (4012, 1, 9, '2023-08-18 18:00:00', '2023-08-18 21:00:00', 9, 1, 2, 6, '잠실야구장'),
  (4013, 6, 1, '2023-09-07 18:00:00', '2023-09-07 21:00:00', 1, 6, 1, 2, '대구삼성라이온즈파크'),
  (4014, 1, 8, '2023-08-25 18:00:00', '2023-08-25 21:00:00', 1, 8, 8, 2, '잠실야구장'),
  (4015, 6, 1, '2023-08-15 18:00:00', '2023-08-15 21:00:00', 0, 0, 0, 0, '대구삼성라이온즈파크'),
  (4016, 9, 1, '2023-05-09 18:00:00', '2023-05-09 21:00:00', 1, 9, 3, 8, '창원NC파크'),
  (4017, 1, 10, '2023-05-08 18:00:00', '2023-05-08 21:00:00', 1, 10, 6, 2, '잠실야구장'),
  (4018, 1, 8, '2023-07-01 18:00:00', '2023-07-01 21:00:00', 8, 1, 7, 9, '잠실야구장'),
  (4019, 1, 10, '2023-05-13 18:00:00', '2023-05-13 21:00:00', 1, 10, 6, 4, '잠실야구장'),
  (4020, 1, 9, '2023-07-10 18:00:00', '2023-07-10 21:00:00', 9, 1, 3, 8, '잠실야구장'),
  (5001, 5, 1, '2024-09-21 18:00:00', '2024-09-21 21:00:00', 1, 5, 7, 8, '광주기아챔피언스필드'),
  (5002, 9, 1, '2024-08-08 18:00:00', '2024-08-08 21:00:00', 9, 1, 5, 1, '창원NC파크'),
  (5003, 1, 4, '2024-06-27 18:00:00', '2024-06-27 21:00:00', 1, 4, 2, 1, '잠실야구장'),
  (5004, 9, 1, '2024-05-17 18:00:00', '2024-05-17 21:00:00', 1, 9, 7, 9, '창원NC파크'),
  (5005, 1, 6, '2024-09-18 18:00:00', '2024-09-18 21:00:00', 6, 1, 8, 10, '잠실야구장'),
  (5006, 10, 1, '2024-06-20 18:00:00', '2024-06-20 21:00:00', 10, 1, 6, 2, '수원KT위즈파크'),
  (5007, 1, 3, '2024-09-18 18:00:00', '2024-09-18 21:00:00', 1, 3, 8, 5, '잠실야구장'),
  (5008, 6, 1, '2024-05-16 18:00:00', '2024-05-16 21:00:00', 6, 1, 7, 0, '대구삼성라이온즈파크'),
  (5009, 1, 7, '2024-08-17 18:00:00', '2024-08-17 21:00:00', 0, 0, 0, 0, '잠실야구장'),
  (5010, 1, 2, '2024-08-03 18:00:00', '2024-08-03 21:00:00', 2, 1, 3, 6, '잠실야구장'),
  (5011, 1, 4, '2024-09-13 18:00:00', '2024-09-13 21:00:00', 4, 1, 0, 8, '잠실야구장'),
  (5012, 5, 1, '2024-05-13 18:00:00', '2024-05-13 21:00:00', 1, 5, 2, 9, '광주기아챔피언스필드'),
  (5013, 3, 1, '2024-05-08 18:00:00', '2024-05-08 21:00:00', 3, 1, 7, 2, '인천SSG랜더스필드'),
  (5014, 1, 7, '2024-08-10 18:00:00', '2024-08-10 21:00:00', 7, 1, 4, 8, '잠실야구장'),
  (5015, 1, 7, '2024-09-19 18:00:00', '2024-09-19 21:00:00', 1, 7, 8, 5, '잠실야구장'),
  (5016, 1, 2, '2024-07-07 18:00:00', '2024-07-07 21:00:00', 2, 1, 6, 9, '잠실야구장'),
  (5017, 1, 10, '2024-06-04 18:00:00', '2024-06-04 21:00:00', 1, 10, 5, 4, '잠실야구장'),
  (5018, 1, 9, '2024-07-03 18:00:00', '2024-07-03 21:00:00', 1, 9, 8, 5, '잠실야구장'),
  (5019, 1, 9, '2024-07-03 18:00:00', '2024-07-03 21:00:00', 9, 1, 2, 10, '잠실야구장'),
  (5020, 1, 7, '2024-08-03 18:00:00', '2024-08-03 21:00:00', 1, 7, 5, 2, '잠실야구장');

-- 전체 경기 불러오기
SELECT 
  g.game_id,
  g.start_time,
  g.end_time,
  g.stadium,
  home.team_name AS home_team,
  away.team_name AS away_team,
  g.home_score,
  g.lose_score,
  g.win,
  g.lose
FROM game g
JOIN team home ON g.home = home.team_id
JOIN team away ON g.away = away.team_id
ORDER BY g.start_time;

-- LG 트윈스 경기만 조회 + 승패 결과 포함
SELECT 
  g.game_id,
  g.start_time,
  g.stadium,
  home.team_name AS home_team,
  away.team_name AS away_team,
  g.home_score,
  g.lose_score,
  CASE 
    WHEN g.win = 1 THEN '승'
    WHEN g.lose = 1 THEN '패'
    ELSE '무'
  END AS LG결과
FROM game g
JOIN team home ON g.home = home.team_id
JOIN team away ON g.away = away.team_id
WHERE g.home = 1 OR g.away = 1
ORDER BY g.start_time;
